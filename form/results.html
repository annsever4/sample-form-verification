<!DOCTYPE html>

<head>

<title>SFSU CS Department - CSC 642 Fall 2016 project: Form UI Frank Koutoulas tkoutoul@mail.sfsu.edu</title>

<!-- meta -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">

<!-- css -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">

<!-- <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"> -->

<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.0/css/bootstrapValidator.min.css"> -->

<!-- javascript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<!-- <script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js"></script> -->

<script src="http://s.codepen.io/assets/libs/modernizr.js" type="text/javascript"></script>

<style>
#success_message{ display: none;}
</style>


<!-- 
 <script>
//   $(document).ready(function() {
//     $("#datepicker").datepicker();
//   });
//   </script>
 -->
</head>

<body>
<div class="container">
<div class="pagenation-centered text-center">
          <br>
          <h2>Please verify  your submission</h2>
          <br>
          <h4>All fields colored <span style="color: red">red</span> are mandatory.</h4>

<br>

  <form class="form-horizontal" action="results.html" method="GET" role="form"  id="reg_form" data-validator="validator">
    <fieldset>
      
      <!-- Form Name -->
      <legend> Contact Information </legend>
    
      <!-- First Name -->
      <div class="form-group">
        <label class="col-md-4 control-label" style="color:red">First Name</label>
        <div class="col-md-6">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <!-- <input  name="first_name" placeholder="First Name" class="form-control"  type="text"> -->
            <div id="first_name" class="form-control"></div>
          </div>
        </div>
      </div>
      
      <!-- Last Name -->
      <div class="form-group">
        <label class="col-md-4 control-label" style="color:red" >Last Name</label>
        <div class="col-md-6  inputGroupContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <!-- <input name="last_name" placeholder="Last Name" class="form-control"  type="text"> -->
            <div id="last_name" class="form-control"></div>
          </div>
        </div>
      </div>
      
      <!-- Email -->
      <div class="form-group">
        <label class="col-md-4 control-label"  style="color:red">E-Mail</label>
        <div class="col-md-6  inputGroupContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
            <!-- <input name="email" placeholder="E-Mail Address" class="form-control"  type="text"> -->
            <div id="email" class="form-control"></div>
          </div>
        </div>
      </div>
    
      <!-- Phone Number -->
      <div class="form-group">
        <label class="col-md-4 control-label" style="color:red">Phone #</label>
        <div class="col-md-6  inputGroupContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
            <!-- <input name="phone" placeholder="(845)555-1212" class="form-control" type="text"> -->
            <div id="phone" class="form-control"></div>
          </div>
        </div>
      </div>

      <!-- gender -->
      <div class="form-group">
        <label class="col-md-4 control-label">Gender</label>
        <div class="col-md-6 inputGroupContainer">
          <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
<!--           <select name="gender" id="gender" class="input-xlarge form-control">
                <option value="" selected="selected">Select a gender</option>
                <option value="Male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select> -->
            <div id="gender" class="form-control"></div>
          </div>
        </div>
      </div>
     
     <!-- highest education -->
     <div class="form-group">
        <label class="col-md-4 control-label">Highest Education</label>
        <div class="col-md-6 inputGroupContainer">
          <div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-education"></i></span>
          <!-- <select name="education" id="education" class="input-xlarge form-control">
                <option value="" selected="selected">Select education level</option>
                <option value="high_school">High School</option>
                <option value="bs">BS</option>
                <option value="ms">MS</option>
                <option value="phd">PH.D</option>
            </select> -->
            <div id="education" class="form-control"></div>
          </div>
        </div>
      </div>

    </fieldset>


        <legend> Problem Information </legend>
        <fieldset>

      
      <!-- Address -->
      
      <div class="form-group">
        <label class="col-md-4 control-label" style="color:red">Address</label>
        <div class="col-md-6  inputGroupContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
            <!-- <input name="address" placeholder="Address" class="form-control" type="text"> -->
            <div id="address" class="form-control"></div>
          </div>
        </div>
      </div>
      
      <!--  City -->
      
      <div class="form-group">
        <label class="col-md-4 control-label" style="color:red">City</label>
        <div class="col-md-6  inputGroupContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
            <!-- <input name="city" placeholder="city" class="form-control"  type="text"> -->
            <div id="city" class="form-control"></div>
          </div>
        </div>
      </div>
      
      <!-- State -->
      
      <div class="form-group">
        <label class="col-md-4 control-label" style="color:red">State</label>
        <div class="col-md-6 selectContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
            <!-- <select name="state" class="form-control selectpicker" >
              <option value=" " >Please select your state</option>
              <option>Alabama</option>
              <option>Alaska</option>
              <option >Arizona</option>
              <option >Arkansas</option>
              <option >California</option>
              <option >Colorado</option>
              <option >Connecticut</option>
              <option >Delaware</option>
              <option >District of Columbia</option>
              <option> Florida</option>
              <option >Georgia</option>
              <option >Hawaii</option>
              <option >daho</option>
              <option >Illinois</option>
              <option >Indiana</option>
              <option >Iowa</option>
              <option> Kansas</option>
              <option >Kentucky</option>
              <option >Louisiana</option>
              <option>Maine</option>
              <option >Maryland</option>
              <option> Mass</option>
              <option >Michigan</option>
              <option >Minnesota</option>
              <option>Mississippi</option>
              <option>Missouri</option>
              <option>Montana</option>
              <option>Nebraska</option>
              <option>Nevada</option>
              <option>New Hampshire</option>
              <option>New Jersey</option>
              <option>New Mexico</option>
              <option>New York</option>
              <option>North Carolina</option>
              <option>North Dakota</option>
              <option>Ohio</option>
              <option>Oklahoma</option>
              <option>Oregon</option>
              <option>Pennsylvania</option>
              <option>Rhode Island</option>
              <option>South Carolina</option>
              <option>South Dakota</option>
              <option>Tennessee</option>
              <option>Texas</option>
              <option> Uttah</option>
              <option>Vermont</option>
              <option>Virginia</option>
              <option >Washington</option>
              <option >West Virginia</option>
              <option>Wisconsin</option>
              <option >Wyoming</option>
            </select> -->
            <div id="state" class="form-control"></div>
          </div>
        </div>
      </div>
      
      <!-- Text input-->
      
      <div class="form-group">
        <label class="col-md-4 control-label" style="color:red">Zip Code</label>
        <div class="col-md-6  inputGroupContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
            <!-- <input name="zip" placeholder="Zip Code" class="form-control"  type="text"> -->
            <div id="zip" class="form-control"></div>
          </div>
        </div>
      </div>

      <!-- Date --> 
      <div class="form-group">
        <label class="col-md-4 control-label" style="color:red">Date</label>
        <div class="col-md-6  inputGroupContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
            <!-- <input name="date" placeholder="DD/MM/YYYY" class="form-control"  type="text"> -->
            <div id="date" class="form-control"></div>
          </div>
        </div>
      </div>

    <!-- Category -->
    <div class="form-group">
      <label class="col-md-4 control-label" style="color:red">Category</label>
      <div class="col-md-6 inputGroupContainer">
        <div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-folder-open"></i></span>
          <!-- <select id="category" name="category" class="input-xlarge form-control " required>
                <option value="" selected="selected">Please select a category</option>
                <option value="spill">Spillage</option>
                <option value="brokenPipe">Broken Pipe</option>
                <option value="electricHazard">Electric Hazard</option>
                <option value="brokenPathway">Broken Pathway</option>
                <option value="other">Other</option>
            </select> -->
            <div id="category" class="form-control"></div>
          </div>
        </div>
    </div>
      
        <!-- Text area -->
      
      <div class="form-group">
        <label class="col-md-4 control-label">About </label>
        <div class="col-md-6  inputGroupContainer">
          <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
            <!-- <textarea class="form-control" name="comment" placeholder="Please describe the problem. "></textarea> -->
            <div id="description" class="form-control"></div>
          </div>
        </div>
      </div>
      
     
            <!-- Upload image -->
    <div class="form-group">
      <label class="col-md-4 control-label">Picture:</label>
      <div class="col-md-6  inputGroupContainer">
        <div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-camera"></i></span>
          <!-- <input type="file" name="pic" id = "pic" accept="image/*"> -->
          <!-- <img id="pic" src="#"  /> -->
          <div id="pic" class="form-control"></div>
        </div>
      </div>
    </div>


    <div class="text-center col-md-6 col-md-offset-4">
      <div style='
          overflow:hidden;
          height:250px;'>
          <div id='gmap' style='height:250px;'></div>
          <style>#gmap img{max-width:none!important;background:none!important}</style>
      </div>
    </div>
      
      <!-- terms and conditions -->
      <div class="form-group">
        <div class="text-center">
            <div class="checkbox">
                <label>
                    <input type="checkbox" checked="true" name="agree" value="agree" /> I agree with the <a href="terms.html">Terms and Conditions</a>.
                </label>
            </div>
        </div>
    </div>
     
  
      <!-- Button -->
      <div class="form-group">
        <label class="col-md-4 control-label"></label>
        <div class="col-md-4">
          <button type="submit" value="submit" class="btn btn-warning" >Submit 
            <span class="glyphicon glyphicon-send"></span>
          </button>
        </div>
      </div>
    </fieldset>
  </form>
</div>
</div>

       




<div class="row" align="left">
<!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
responsive hotel -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0173509626327009"
     data-ad-slot="7944464098"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div>
</div>

<script language="Javascript"> 
document.addEventListener("DOMContentLoaded", function(){
    function processUser()
    {
  var parameters = location.search.substring(1).split("&");

  var temp = parameters[0].split("=");
  first_name = unescape(temp[1]);
  console.log(first_name);
  temp = parameters[1].split("=");
  last_name = unescape(temp[1]);
  console.log(last_name)         
  temp = parameters[2].split("=");
  email = unescape(temp[1]);
  console.log(email);
  document.getElementById("email").innerHTML = email;
  temp = parameters[3].split("=");
  phone = unescape(temp[1]);
  document.getElementById("phone").innerHTML = phone;
  temp = parameters[4].split("=");
  gender = unescape(temp[1]);
  document.getElementById("gender").innerHTML = gender;
  temp = parameters[5].split("=");
  education =unescape(temp[1]);
  temp = parameters[6].split("=");
  address = unescape(temp[1]);
  temp = parameters[7].split("=");
  city = unescape(temp[1]);
  temp = parameters[8].split("=");
  state = unescape(temp[1]);
  temp = parameters[9].split("=");
  zip = unescape(temp[1]);
  temp = parameters[10].split("=");
  date = unescape(temp[1]);
  temp = parameters[11].split("=");
  category = unescape(temp[1]);
  temp = parameters[12].split("=");
  description = unescape(temp[1]);
  temp = parameters[13].split("=");
  pic = unescape(temp[1]);
  console.log(zip);
 // temp = parameters[14].split("=");
 // terms = unescape(temp[1]);
  address = address.replace(/\+/g, " ");
  var fullAddress = address.concat(", ").concat(city).concat(", ").concat(state).concat(" ").concat(zip);
  // document.write("plllllffff: " + document.getElementById("firstName").innerHTML);
  document.getElementById("first_name").innerHTML = first_name;
  document.getElementById("last_name").innerHTML = last_name;
  if(pic) {
  document.getElementById("pic").innerHTML = pic;
  } else {
    document.getElementById("pic").innerHTML = "none";
  }
  //optional field
  if(gender = "none") 
  {
    document.getElementById("gender").innerHTML = "none";
  } else {
    document.getElementById("gender").innerHTML = gender;
  }

  if(education = "none")
  {
    document.getElementById("education").innerHTML = "none";
  } else {
    education = education.replace(/\+/g, " ");
    document.getElementById("education").innerHTML = education;
  }
  document.getElementById("phone").innerHTML = phone;
  document.getElementById("email").innerHTML = email;
  document.getElementById("date").innerHTML = date;
  category = category.replace(/\+/g, " ");
  document.getElementById("category").innerHTML = category;
  description = description.replace(/\+/g, " ");
  document.getElementById("description").innerHTML = description;
  document.getElementById("address").innerHTML = address;
  city = city.replace(/\+/g, " ");
  document.getElementById("city").innerHTML = city;
  state = state.replace(/\+/g, " ");
  document.getElementById("state").innerHTML = state;
  zip = zip.replace(/\+/g, " ");
  document.getElementById("zip").innerHTML = zip;
  document.getElementById("agree").innerHTML = terms;
  document.getElementById("category").innerHTML = incident_category;
  document.getElementById("description").innerHTML = description;
  document.getElementById("address").innerHTML = fullAddress;
    }

    processUser();
})
</script>

<!-- /.container --> 
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js'></script>
<!-- <script src='http://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js'></script> -->

      <!-- <script src="js/index.js"></script> -->
<script type="text/javascript">
 
   $(document).ready(function() {
    $('#reg_form').bootstrapValidator({
        // To use feedback icons, ensure that you use Bootstrap v3.1.0 or later
        feedbackIcons: {
            valid: 'glyphicon glyphicon-ok',
            invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },
        fields: {
            first_name: {
                validators: {
                        stringLength: {
                        min: 2,
                    },
                        notEmpty: {
                        message: 'Please supply your first name'
                    }
                }
            },
             last_name: {
                validators: {
                     stringLength: {
                        min: 2,
                    },
                    notEmpty: {
                        message: 'Please supply your last name'
                    }
                }
            },
           
            phone: {
                validators: {
                    notEmpty: {
                        message: 'Please supply your phone number'
                    },
                    phone: {
                        country: 'US',
                        message: 'Please supply a vaild phone number with area code'
                    }
                }
            },
            address: {
                validators: {
                     stringLength: {
                        min: 8,
                    },
                    notEmpty: {
                        message: 'Please supply your street address'
                    }
                }
            },
            city: {
                validators: {
                     stringLength: {
                        min: 4,
                    },
                    notEmpty: {
                        message: 'Please supply your city'
                    }
                }
            },
            state: {
                validators: {
                    notEmpty: {
                        message: 'Please select your state'
                    }
                }
            },
            zip: {
                validators: {
                    notEmpty: {
                        message: 'Please supply your zip code'
                    },
                    zipCode: {
                        country: 'US',
                        message: 'Please supply a vaild zip code'
                    }
                }
            },
    comment: {
                validators: {
                      stringLength: {
                        min: 10,
                        max: 200,
                        message:'Please enter at least 10 characters and no more than 200'
                    }
                    }
                 }, 
   email: {
                validators: {
                    notEmpty: {
                        message: 'Please supply your email address'
                    },
                    emailAddress: {
                        message: 'Please supply a valid email address'
                    }
                }
            },
  date: {
        validators: {
                  date: {
                    format:'DD/MM/YYYY',
                    message:'Please supply a valid date'

                  }

                }
            },        
  
  password: {
            validators: {
                identical: {
                    field: 'confirmPassword',
                    message: 'Confirm your password below - type same password please'
                }
            }
        },

  agree: {
                validators: {
                    notEmpty: {
                        message: 'You must agree with the terms and conditions'
                    }
                }
            },

        confirmPassword: {
            validators: {
                identical: {
                    field: 'password',
                    message: 'The password and its confirm are not the same'
                }
            }
         },
      
            
            }
        })
    
  
        .on('success.form.bv', function(e) {
            $('#success_message').slideDown({ opacity: "show" }, "slow") // Do something ...
                $('#reg_form').data('bootstrapValidator').resetForm();

            // Prevent form submission
            e.preventDefault();

            // Get the form instance
            var $form = $(e.target);

            // Get the BootstrapValidator instance
            var bv = $form.data('bootstrapValidator');

            // Use Ajax to submit form data
            $.post($form.attr('action'), $form.serialize(), function(result) {
                console.log(result);
            }, 'json');
        });
});

                        // init gmaps
                        function initMap() {
                            var map = new google.maps.Map(document.getElementById('gmap'), {
                                zoom: 18,
                                center: {lat: -34.397, lng: 150.644} //defaults to SFSU coordinates
                            });

                            var geocoder = new google.maps.Geocoder();
                            geocodeAddress(geocoder, map);

                            var modes = document.getElementById('mode-selector');
                            map.controls[google.maps.ControlPosition.TOP_LEFT].push(modes);

                        }
                        // function for the geolocation 
                        function geocodeAddress(geocoder, resultsMap) {
                            
                          // this is where address goes
                            geocoder.geocode({'address': address}, function (results, status) {
                                if (status === 'OK') {
                                    resultsMap.setCenter(results[0].geometry.location);
                                    // location services for marker here
                                    var marker = new google.maps.Marker({
                          map: resultsMap,
                          position: results[0].geometry.location
                        });

                                    //creates the circle img
                                    // var cityCircle = new google.maps.Circle({
                                    //     strokeColor: '#0000ff',
                                    //     strokeOpacity: 0.8,
                                    //     strokeWeight: 2,
                                    //     fillColor: '#3333ff',
                                    //     fillOpacity: 0.35,
                                    //     map: resultsMap,
                                    //     center: results[0].geometry.location,
                                    //     radius: 50
                                    // });
                                } else {
                                    alert('Geocode was not successful for the following reason: ' + status);
                                }
                            });
                        }
                    </script>
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!! INSERT KEY HERE!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!! after .../js?key="YOUR KEY" !!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
                    <script async defer
                            src="https://maps.googleapis.com/maps/api/js?key=YOUR KEY&libraries=places&callback=initMap">
                    </script>
                    <!-- !!!!!!!!!! ^ ^ ^ ^ KEY GOES ABOVE ^ ^ ^ ^ !!!!!!!!!!! -->


 
 </script>
</body>
</html>
